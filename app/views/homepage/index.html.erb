<div class="hp-main">
  <article class="hp-article">
    <div class="hp-rows">
      <div class="hp-columns">
        <h1 class="hp-h1">
          Hi, Iâ€™m George
        </h1>
        <h2 class="hp-h2">
          I'm a student. I've been interested in the web for a long
          time, making my first site <% duration = Time.now - Time.new(2019, 5, 7)
            years = (duration / (86400 * 365)).to_i
            remaining_days = duration % (86400 * 365)
            months = (remaining_days / (86400 * 30)).to_i
            days = ((remaining_days % (86400 * 30)) / 86400).to_i %>
           <%= years %> years, <%= months %> months, and <%= days %> days ago. I'm also a digital privacy
          advocate and a dark mode enthusiast.
        </h2>
        <div class="custom-breadcrumbs hp-li-div">
          <ul>
            <li>
              <a href="https://x.com/georgebaskervil" rel="noreferrer" target="_blank" class="text-accent">
                X
              </a>
            </li>
            <li>
              <a href="https://github.com/georgebaskervil" rel="noreferrer" target="_blank" class="text-accent">
                GitHub
              </a>
            </li>
          </ul>
        </div>
      </div>
      <picture class="hp-image-container hp-picture">
        <source srcset="<%= asset_path('icon.avif') %>" type="image/avif">
        <source srcset="<%= asset_path('icon.webp') %>" type="image/webp">
        <source srcset="<%= asset_path('icon.jxl') %>" type="image/jxl">
        <%= image_tag("icon.jpg", alt: "A picture of me", loading: "eager", width: "654", height: "654", decoding: "sync", fetchpriority: "high") %>
      </picture>
    </div>
  </article>
  <article class="hp-article-2">
    <header class="hp-header-2">
      <h3 class="hp-h3">My best FOSS projects:</h3>
      <a href="https://github.com/georgebaskervil?tab=repositories"
        class="hp-small-link" target="_self" rel="noreferrer">
        See all projects
      </a>
    </header>
    <section class="hp-section">
      <div class="hp-proj-div">
        <a href="https://github.com/Libreverse/Libreverse/" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">Libreverse</p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">The open-source metaverse.</div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/georgebaskervil/Personal-Website-Rails" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              Personal Website Rails Port
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            My personal website ported to Ruby on Rails.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/georgebaskervil/Personal-Website" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              Personal Website
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            My personal website built with Astro, TypeScript, and
            Tailwind CSS.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/georgebaskervil/dnsfilterlists" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              DNS Filterlists
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            A collection of DNS filterlists intended for use with
            AdGuard Home.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/Libreverse/Libreverse-website" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              Libreverse Website
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            The website for the libreverse.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/Libreverse/core-js-custom" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              core-js-custom
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            A custom version of core-js made for Libreverse.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/georgebaskervil/twemoji-tweaked" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              twemoji-tweaked
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            A custom version of twemoji merging some pull requests and adding some new features.
          </div>
        </a>
      </div>
      <div
        class="hp-proj-div">
        <a href="https://github.com/georgebaskervil" target="_blank" rel="noreferrer">
          <div class="hp-proj-internals">
            <p class="hp-proj-title">
              And more to come...
            </p>
            <%= image_tag("arrow.svg", loading: "eager", decoding: "sync", fetchpriority: "high", class:"hp-proj-svg") %>
          </div>
          <div class="hp-proj-desc">
            I'm always working on new projects! You can find them on my GitHub.
          </div>
        </a>
      </div>
    </section>
  </article>

      <article>
      <header class="hp-header">
        <h3 class="hp-h3">Some of the best photos I have taken:</h3>
        <a href="/images"
          class="hp-small-link">
          See all photos
        </a>
      </header>
      <section class="hp-image-grid-container">
        <% @images.first(8).each_with_index do |img, index| %>
          <div class="image-container">
            <% ext = File.extname(img) %>
            <% base_name = File.basename(img, ext) %>
            <a href="<%= asset_path(base_name.sub(/^resized_/, '') + ext) %>" target="_blank">
              <picture>
                <% if File.exist?(Rails.root.join("app/assets/photos/AVIFs", "#{base_name}.avif")) %>
                  <source srcset="<%= asset_path("AVIFs/#{base_name}.avif") %>" type="image/avif">
                <% end %>
                
                <% if File.exist?(Rails.root.join("app/assets/photos/WebPs", "#{base_name}.webp")) %>
                  <source srcset="<%= asset_path("WebPs/#{base_name}.webp") %>" type="image/webp">
                <% end %>
                
                <% if File.exist?(Rails.root.join("app/assets/photos/JXLs", "#{base_name}.jxl")) %>
                  <source srcset="<%= asset_path("JXLs/#{base_name}.jxl") %>" type="image/jxl">
                <% end %>
                <%= image_tag(
                    img,
                    loading: "eager",
                    decoding: "async",
                    fetchpriority: "low"
                    ) %>
              </picture>
            </a>
          </div>
        <% end %>
      </section>
  </article>

  <article>
    <header class="hp-header">
      <h3 class="hp-h3">The latest blog posts I have written:</h3>
      <a href="/images"
        class="hp-small-link">
        See all posts
      </a>
    </header>
    <section class="posts-section">
      <% @latest_posts.each do |article| %>
        <%= link_to post_path(File.basename(article[:file_path], '.md')), class: "posts-card" do %>
          <h2 class="posts-title"><%= article[:title] %></h2>
          <p class="posts-content"><%= article[:description] %></p>
          <p class="posts-published-date">Published on <%= article[:published_at].strftime("%B %d, %Y") %></p>
        <% end %>
      <% end %>
    </section>
  </article>
</div>